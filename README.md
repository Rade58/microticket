# U OKVIRU PUBLISHED EVENT-A, KADA TO, MI TREBAMO DA INCREMENTIRAMO I POSALJEMO ODNOSNO PUBLISH-UJEMO `version`, KOJI, USTVARI PUBLISH-UJEMO SA OSTAKOM DATA-E

PRVO CU TI RECI JESTE DA POGLEDAS VIDEO `19-17`

OVO SU NEKA MOJA ZAPAZANJA

***
***

ZAMISLI DA IMAS NEKOLIKO MICROSERVICE-OVA, KAO STO BI BIO  `comments`, `moderation` I `query`

1. TREBAS DA RAZMISLJAS O TOME **KOJI SU PRIMARNI DATASET-OVI, ODNONO RECORS, ODNOSNO PRIMARNA KOLEKCIJA U DATNBASE-U, ZA ODREDJENI MICROSERVICE**

- PA `comments`-U BI PRIMARNI RECORDS BUILI `Comment` DOKUMENTI, KOJI SU STORED U KOLEKCIJI, DATBASE-A TIED TO comments MICROSERVICE

- `moderation` BI IMAO REPLICATED Comments U SVOM DATABSE-U, I PORED TOGA NISTA DRUGO, JER SE BAVI MODERATIONOM SAMIH KOMENTARA

- `query` BI ISTO TAKO IMAO REPLICATED Comments U SVOM DATBASE-U, ALI ISTO TAKO MOZDA REPLICATED NEKE DRUGE KOLEKCIJE, KOJI NISU NJEGOVE PRIMARNE ,STO NIJE NI BITNO U TRENUTNOM ZAMISLJENOM PRIMERU

2. TREBAS DA RAZMISLJAS O **"PRIMARNOJ ODGOVORNOSTI" ZA DATA, ODNOSNO DA MICROSERVICE MORA DA DOBIJE INFORMACIJU, AKO SE NJEGOV PRIMARNI DATA, KOJI JE REPLICATED U NEKOM DRUUGOM SERVICE-U, IUSTVARI PROMENI**

OVO KONKRETNO BI BILO VAZNO U TVOM ZAMISLJENOM PRIMERU, DA NIKAKO `moderation` SERVICE NE OPSLUZI `query` SERVICE SA MODERATED Comment-OM, JER ON NIJE ODGOVORAN DA MANIPULISE REPLICIANIM PODACIMA, A DA ZA TO NE ZNA `comments` MICROSERVICE, CIJI SU Comments, USTVARI PRIMARNI PODACI

***
***

I OVO JE NAJVAZNIJE

3. TREBAS DA RAZMISLJAS O TOME **DA KADA PUBLISH-UJES EVENT, U KOJI SI STAVIO INCREMENTED `version`, DAKLE KOJI SI INCREMENTIRAO PRE PUBLISHINGA; DA SAMO TO SME DA RADI MICROSERVICE, AKO JE U PITANJU NJEGOV PRIMARNI DATA, KOJEM SE DESIO `CREATE/UPDATE/DESTROY`**

***
***

# OVE TVRDJE GORE BI TREBALO DA DOKAZEM ZAMISLJENIM SCENARIJOM, PO KOJEM CU ZAMISLITI SLANJEE EVENT-OVA

**PRVO CU TI RECI KAKO STVARI MOGU KRENUTI PO ZLU, AKO NE PAZIS NA GORNJU 3 STAVKU, KOJU SAM TI LAY-OVAO DOWN**











