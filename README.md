# RESTARTING THE DEPLOYMENT

U PROSLOB BRANCH-U, USPESNO SMO DEFINISALI BUILDING IMAGE-A I NJEGOV PUSHING TO DOCKER HUB; A SVE SMO TO DEFINISALI, KROZ WORKFLOW FILE, ODNOSNO GITHUB ACTION; ACTION KOJI SE IZVRSAVA ON `push` TO `main`; A ZA push TO `main`, SE ISTO RACUNA I **MERGING PULL REQUEST INTO** `main`

A SADA SE MORAMO POSTARATI DA KROZ ISTI FILE, DEFINISEMO I REACHING INTO RUNNING KUBENETES CLUSTER, KOJI IMAMO NA DIGITAL OCEAN-U; **I DA KAZEMO DEPLOYMENT-U, KOJI JE INSIDE THERE, I KOJI JE RESPONSIBILE FOR OUR POD FOR THE `auth` MICROSERVICE, DA KORISTI NOVI IMAGE**

DA BISMO TO URADILI PROCICEMO KROZ SLICAN PROCES KOJI SMO RANIJE DEFINISALI NA NASOJ LOKALNOJ MACHINE-I, KORISTECI `doctl` CLI

DAKLE POSMATRAMO WORKFLOW KOJI CE BITI RUNNED U GITHUB CONTAINER-U

**MI CEMO DEFINISATI DA SE U GITHUB CONTAINERU INSTALIRA `doctl`**

**NAKON INSTALIRANJA doctl MORAMO SE AUTHORIZE-OVATI, ODNONO MORAMO INICIALIZE-OVATI doctl, KORISCENJEM ONOG API KEY-A SA DIGITAL OCEAN-A (MOZEMO GENERISATI NOVI, ILI KORISTITI ONAJ KOJI SMO VEC NAPRAVILI)**

**ONDA CEMO KORISTITI `doctl` DA FETCH-UJEMO CONTEXT, KOJI DESCRIBE-UJE, KAKO SE KONEKTOVATI DO CLUSTER-A, KOJI RUNN-UJE INSIDE DIGITAL OCEAN**

**TAJ CONTEXT CEMO ONDA FEED-OVATI INTO `kubectl`, KOJI DOLAZI PREINSTALED INSIDE GITHUB CONTAINER**

DA SE BACIMO NA POSAO

OPET NA GITHUB-U OTVARAMO, ONAJ FILE: `/.github/workflows/deploy-auth.yml`

KAKO BISMO DODALI JOS STEP-OVA INSIDE

```yml

```


