# CREATING A CHARGE WITH STRIPE

DAKLE U PROSLOM BRANCHU SMO PODESILI STRIPE SECRET KEY U SECRET KUBERNETES OBJECT-U, I DEFINISALI SMO U CONFIGU UCITAVANJE TOG KEY-A, KO ENVIROMENT VARIIJABLE

SADA CEMO TO DA KORISTIMO U JEDNOM SEPARATE FILE-U, KOJEG CEMO DA NAPRAVIMO, U CILJU DA U NJEGA UVEZEMO STRIPE LIBRARY I INSTATIATE-UJEM STRIPE LIBRARY

- `touch payments/src/stripe.ts`

```ts
import Stripe from "stripe";

export const stripe = new Stripe(process.env.STRIPE_KEY as string, {
  apiVersion: "2020-08-27", // CIM NAPISES "" BIO MI JE SUGESTED OVAJ VERSION
  typescript: true, // za ovo kazu da nema nekog efekta, ali stavicu ovo
});

```

# MOZEMO SADA IMPORTOVATI `Stripe` INSTANCU, U NASEM HANDLERU, I KORISTITI JE DA CHARGE-UJEMO USERS CREDIT CARD

***
***

ALI KAKO MI, USTVARI CHARG-UJEMO USERS CREDIT CARD KORISCENJE STRIPE LIBRARY-JA

[NAJBOLJE JE POGLEDATI API REFERENCE](https://stripe.com/docs/api) KAKO BI OVO BOLJE RAZUMEO 

***
***

KONACNO UVIZIKO I KORISTIMO Stripe INSTANCU

- `code payments/src/routes/new.ts`

```ts

```
