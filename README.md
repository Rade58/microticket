# OTHER DATBASES AND OPTIMISTIC CONCURRENCY CONTROL

***

digresija:

**SAMO TI NAPOMINJEM DA NISAM KORISTIO RESENJE, KOJE JE PREDLOZENO U OVOMM BRANCH-U**

JER VEC IMAM RESENJE ZA OPTIMISTIC CONCURRENCY CONTROL

***

OVDE DAKLE GOVORIM O DATBASE-OVIMA, KOJI NISU MONGO

VEROVATNO JE DA ONAJ OPTIMISTIC CONCURRENCY CONTROL NIJE ISTI I U DRUGI MDATBASE-OVIMA

PITANJE JE DA LI GA, UOPSTE IMA OUT OF THE BOX U DRUGIM MICROSERVICE-OVIMA

I PITANJE JE DA LI JE NA ISTI NACIN IMPLEMENTIRAN

**RECIMO U NEKI MDATBASE-OVIMA MOZE VITI DA SE version POVECAVA SA 100 NA 200, SA 200 NA 300 I TK ODALJE**

***

O OVOM PROBLEMU, DRUGIH DATBASE-OVA I CONCURRENCY CONTROL-A, AUTOR WORKSHOP-A GOVORI U VIDEO-U `19-23`

***

**A RESENJE JE DA SE OVAJ OPTIMISTIC CONCURRENCY CONTROL DEFINISE BY YOU**

DAKLE TI TO MOZES DEFINISATI NE VEZANO ZA IMPLEMENTACIJU BILO KOJEG DATBASE-A

**I JA POTPUNO VIDIM KAKO SE TO MOZE IMPLEMENIRATI, A DA NIJE ABSTRACTED U MONGO-U, ALI JA TO NECU URADITI**

## A STO SE TICE SAMOG MONGODB-JA, TI NISI MORAO KORISTITI, UOPSTE ONU OPCIJU `optimisticConcurrency`

ZASTO BI TO URADIO UOPSTE?

**`PA AKO JE version POSLAT IZ DRUGOG DATABASE-A, GDE ON IMA DRUACIJA PRAVILA PROMENE, NA PARIMER INCRMENTIRANJE ZA 100; A REPLICATED DATA CUVAS U DRUGOM MICROSERVICE-U, INSIDE MONGODB DATABASE, A TI ONDA MORAS RECI MONGO-U DA INCREMENT A 1 NIJE TACAN`**

OVO JE NAJLAKSE PREVAZICI KORISCENJEM `pre` HOOK-A U DATABASE-U, GDE CES RADITI NESTO U SLUCAJU `"save"`-A, DAKLE PRE SAVE

**ALI PORED PRE HOOK-A, TI MORAS KORISTITI [`$where`](https://mongoosejs.com/docs/api/model.html#model_Model-$where) PROPERTI**

>> Additional properties to attach to the query when calling save() and isNew is false.

DAKLE OVDE JE OPET REC O OVERRIDINGU NECEGA I POHRANJIVANJE TOGA U DATBASE, A U OVOM SLUCAJU TO JE `version` FIELD

**MEDJUTIM OVO RESENJE MENI NE RADI, I NIJE MI JASNO ZASTO SE UOPSTE KORISTI $where

TAAK ODA JA OVO RESENJE NECU NI UPOTREBLJAVATI

***

**DAKLE NECU KORISTITI RESENJA AUTORA WORKSHOPA, JER MISLIM DA MI NE FUNKCIONISE`**

A CAK I ON NE KORISTI POMENUTO RESENJE

***
