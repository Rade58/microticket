# HOW DOES `Bull JS` WORKS

U OVOM BRANCHU DOBICEMO BETTER IDEA KAKO TO BullJS RADI SA REDIS ERVEROM; AND EVENTUALLY WE WILL UNDERSTAND HOW ARE WE GOING TO USE Bull JS LIBRARY AND REDIS IN OUR PROJECT

**MI USTVARI U NSAEM PROJEKTU NECEMO KORISTITI BULL ZA ONO ZA STA JE TRADICIONALNO NAMENJN DA OBAVLJA**

A TO JE AKO KORISNIK IMA NEKI TASK, KOJI BI ZAHTEVAO A LOT OF PROCESSING POWER, KAO STO JE NA PRIMER CONVERTING MP4 FILE-A U MKV FILE

OBICNO SE PRAVI WEB SERVER U KOJEM RUNN-UJE BULLJS, I GDE SE UPLOAD-UJE FILE O KOJEM GOVORIM, MEDJUTIM NA TOM SERVERU SE NE OBAVLJA JOB

VEC SE UZIMA NEKI WORKER SERVER, NEKI SEPARATE MACHINE, U NEKOM SEPARATE CONTAINER-U;; DAKLE SOMETHING ELSE INSIDE OF OUR APP THAT IS COMPLETELLY STANDALONE I SEPARATE FROM THE WEB SERVER GDE RUNN-UJE BULLJS

UPRAVO BI SE NA WORKER SERVERU OBAVLJAO TAJ ZAHTEVNI CONVERSSION,, KOJ IZAHTEVA DOSTA PROCESSING POWER-A

TAKVIH WORKER SERVERA, MOZE BITI I VISE OD JEDNOG, ODNOSNO MOZES IMATI MUTIPLE COPIES OF WORKER SERVER

## BULL JS USTVARI U REDIS LIBRARY-JU ENQUEUE-UJE NESTO STO SE ZOVE JOB

JOB JE NISTA VISE OD PLAIN JAVASCRIPT OBJECT-A

ON BI DESCRIBE-OVAO SOME AMOUNT OF PROCESSING TO BE DONE NA NEKOJ PARICULAR STVARI

BULL DAKLE SALJE JOB OBJECT TO THE REDIS SERVER

REDIS STOR-UJE LIST OF JOBS

**E ONDA SVAKI OD WORKER SERVER-A, CONSISTANTLY CE DA PULL-UJU REDIS SERVER, I WAIT-OVACE NA NEKI JOB TO APEAR**

**AS SOONA AS JOB SHOWS UP, WORKER CE PULL-OVATI JOB, AND DO SOME PROCESSING ON IT, I ONDA CE POSALATI NAZAD MESSAGE DO REDIS SERVER-A; A KAZE DA JE PROCESSING COMPLETE**

TO JE SVE, ZA TO SE BULL USTVARI KORISTI

## NEMOJ DA TE ZBUNJUJE STA SAM REKAO; BULL SE KORISTI I NA WEB SERVERU KOJI DOBIJA REQUEST, ALI I U SVAKOM OD WORKER SERVER-A, KOJE BI IMAO

DAKLE BULL SE BRINE O INITIAL SETTINGU JOB-A, ODNOSNO ENQUEUINGU DO REDISA, PA DO NJEGOVOG PROCESSINGA U WORKER SERVICE-U; I O SLANJU NOTIFICATION-A FROM WORKER SERVER-A DA JE JOB COMPLETED

## SVE OVO TI MOZE IZGLEDATI KAO NAS SETTING EVENTOVA SA NATS STREAMING SERVEROM

DA POMALO SIMILAR IN NAATURE, ALI MI NE BISMO MOGLI KORISTITI BULL ZA EVENT PROCESSING, JER ON NIJE DIZAJNIRAN ZA TO

NIJE NAMENJEN ZA HANDLING HUGE AMMOUNT OF MESSAGES, KAO STO NATS STREAMING SERVER JESTE

## MORAMO SE MALO POZABAVITI TERMINOLOGIJOM

MI CEMO KREIRATI NESTO STO SE ZOVE QUEUE; I ON PREDSTAVLJA MAIN ABSTRACTION INSIDE OF BULL

ON PREDSTAVLJA NEKU SERIJU MESSAGE-OVA, KOJE ZELIMO DA QUEUE-UJEMO UP I EVENTUALLY PROCESS-UJEMO OVER TIME

KORISTICEMO BULL DA SPECIFICALLY KREIRAMO QUEUE

A KADA TO URADIMO SPECIFICIRACEMO TO I STA ZELIMO DA RADIMO SA  MESSAGE-OVIMA  THAT ARE FLOWING THROUGH IT

# KONACNO DA KAZEM STA CE SE DESAVATI U NASEM `expiration` MICROSERVICE-U

MI NECEMO IMATI BULL U NEKOM WEB SERVERU

SVE CE BITI SELF CONTAINED INSIDE `expiration` MICROSERVICE

DAKLE ZA NAJ JE BULL-OV WEB SERVER I ONI WORKER SERVERI, USTVARI ONE SINGLE SERVER

WE WILL MAKE USE OF BULL FOR DELAYED MESSAGING ASPECT

AND TO MAKE SURE THAT IF THE expiration MICROSERVICE GOES DOWN; **CHANCES ARE THAT REDIS SERVER WILL NOT GO DOWN, HOPEFULLY IT WONT ANYWAYS**
