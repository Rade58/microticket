# GRACEFUL SHUTDOWN

POKAZAO SAM TI U NASEM TEST PROJEKTU KAKO SE DEFINISE [GRACEFUL SHUTDOWN](nats_test_project/src/listener.ts) ZA CLIENT-A

REKAO SAM TI DS GRACEFULL SHUTDOWN DEFINISEM ZATO DA ONDA KADA SMO ODLUCILI DA ZAUSTAVIMO CLIENTA, ODNOSNO KADA NODE PROCESS NA KOJEM RUNN-UJE NAS APP ODLUCIMO DA ZAUSTAVIMO, SA NA PRIMER Ctrl + C, DA NATS STREAMING SERVER NE POMISLI DA JE TO ZBOG NEKOG TEMPORRY LATENCY-JA ILI NECEG DRUGOG, PA POKUSA DA UNPROCESSED EVENT REPOSALJE

MI TO NE ZELIMO

ZELIMO DA TACNO SLUSAMO DA ZATVARANJE NODE PROCESS-A, PA DA TO KAZEMO NASTS CLIENTU, KAKO BI NATS CLIENT PRENEO INFO DO NATS STREAMING SERVERA DA VISE NE SALJE EVENTS, JER CLIENT SE NAMERNO GASI

**NARAVNO OVO JE RELEVANTNO SAMO ZA CLIENT, KOJEG KORISTIM OZA SUBSCRIPTION, ODNOSNO RELEVANTNO JE SAMO KOD LISTENERA**

ALI MI CEMO ISTOG CLIENTA, KOJEG SMO KONEKTOVALI NA NATS STREMING SERVER, KORISTITI I ZA PUBLISHING I ZA LISTENING

TAK ODA U OKVIRU `WrapperClient` KLASE MOZEM ODEFINISATI I GRACEFUL SHUTDOWN LOGIKU, ODNONO U connect METODI

**ALI TO NE BISMO TREBALI URADITI, JER TO JE LOSE**

EVO I ZASTO

OVO TI JE PIECE OF CODE KOJOM MOZEM ODEFINISATI GRACEFUL SHUTDOWN

```ts

```


