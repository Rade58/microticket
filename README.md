# BIG NOTES ON NATS STREAMING

ZA RAZLIKU OD CUSTOM RESENJA U KOJEM SAM IMAO EVENT BUS KOJI JE BIO EXPRESS UP KOJI RECEIVE-UJE I EMMIT-UJE EVENTS, **NATS STREAMING SERVER UOPSTE NIJE TAKAV**

KORISTICU CLIENT LIBRARY, KOJI SE ZOVE **`node-nats-streaming`**

<https://www.npmjs.com/package/node-nats-streaming>

TESKO JE SHVATITI KAKO OVO FUNKCIONISE NA PRVI POGLED

ZATO CU MORATI ODRADITI JEDAN STAND ALONE PROJECT KAKO BI SHVATIO KAKO SVE OVO FUNKCIONISE

OVAJ LIBRARY JE CALLBACK BASED, TAK ODA NECES KORISTI async await SINTAKSU

**node-nats-streamin CU KORITITI I ZA SLANJE EVENT-OVA DO NATS SERVER-A I TAKODJE CU GA KORISTITI ZA ANTICIPATION EVENT-OVA FROM NATS**

KADA SAM RANIJE PRAVIO EVENT BUS-A KOJI JE BIO EXPRESS APP, ON JE EMMIT-OVAO EVENTS TO EVERY SINGLE MICROSERVICE, PA CAK I ONAJ MICROSERVICE, KOJI JE INICIJALNO POSLAO EVENT, DOBIO BI ECHOED BACK ISTI TAJ EVENT FROM THE MICROSERVICE

**U SLUCAJU NATS STREAMING-A, DOBIJACE EVENT SAMO ONO SERVICE-OVI SUBSCRIBED TO SPECIFI CHANNELS**

TO CE BITI CHANELLS OF EVENTS ZA KOJE SE DEFINISE SUBSCRIPTION

ZA CHAANELLS CE SE KORITITI I TERMIN TOPICS

## MOZES DA POSMATRAS OVAKO

KANALI SU KCREATED NA NATS SERVERU

KANALI SU U OVAKVOM FORMATU: `ticket:created`, `ticket:updated`

tickets MICROSERVICE, UZ POMOC POMENUTOG node-nats-streaming LIBRARY-JA BI REKAO PUBLISH THIS DATA TO THE `ticket:updated` CHANNEL

ONDA BI NATS STREAMING SERVER, POSALO "Ticket Updated Event" DO MICROSERVICE-A, KOJI SU SUBSCRIBED NA KANAL `ticket:updated`

ONA MICROSERVICE, KOJI NE LISTEN-UJE NA TAJ CHANNAL NE BI DOBIO NISTA
