# TEST ENVIROMENT SETUP

INSTALIRAO SM U PROSLOM BRANCH-U SLEDECE DEPENDACIES: `jest` `supertest` `ts-jest` `mongodb-memory-server` `@types/supertest` UNUTAR MOG MICROSERVICE-A auth

TAKODJE SAM SPRECIO IMAGE REBUILD U SLUCAJU INSTLAIRANJA DEV DEPENDANCIES-A, JER MI DEV DEPENDANCIES NE TREBAJU U CLUSTERU; A CLUSTER MI NE TREBA KADA VRSIM TESTOVE, VEC SAMO LOKALNI ENVIROMENT

**SADA ZELIM DA WIRE-UJEM UP SVE POMENUTE DEPENDANCIES**

ZELIM DA JEST-U (TEST RUNNER) DAM SAMO NEKI BASIC CONFIGURATION KAKO BI MAOGAO DA GA STARTUP-UJEM U MOM MICROSERVICE-U, I DACU JESTU SOME BASIC CONFIGURATION, KAKO BI DAO INSTRUKCIJU KAKO DA TESTIRA U MICROSERVICE-U

**ZADACU NOVI SCRIPT**

- `code auth/package.json`

```json
// ADDING NEW SCRIPT
"test": "jest --watchAll --no-cache"
```

**KADA SE RUNN-UJE START-UPP-OVACE JEST, RECI CE MU DA RUNN-UJE SVE TEST-OVE INSIDE OF OUR PROJECT, KAADA SE GOD BILO KOJI FILE MICROSERVICE-A PROMENI, A --no-cache CE BITI NAS ATEMPT DA KORISTIMO TYPESCRIPT WITH JEST**

**ZADAJEMO I CEO BLOK ZA jest UNUTAR package.json**

- `code auth/package.json`

```json
"jest": {
  "preset": "ts-jest",
  "testEnviroment": "node",
  // GOVORIMO JESTU DA RUNN-UJE SETUP FILE AFTER INITIALLY STARTS UP
  "setupFilesAfterEnv": [
    // OVAJ FILE CE POKUSATI DA SE RUNN-UJE
    "./src/test/setup.ts"
  ]
}
```

## NAPRAVICU SADA TAJ FILE `./src/test/setup.ts`

- `mkdir auth/src/test`

- `touch auth/src/test/test.ts`

```ts

```
