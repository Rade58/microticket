# INSTALLING GCloud CONTEXT

SADDA KADE JE GOOGLE CLOUD SDK KONFIGURIRAN I INSTALIRAN (PO DRUGI PUT SAM GA INSTALIRAO STO SAM POKAZAO U PREDHODNOM BRANCH-U (OVO INSTALACIJA BI TREBALA DA BUDE OK)) MOGAO BI MU SADA DATI INSTRUKCIJU DA FETCH-UJE SOME CONTEXT INFO DA BI SE KONEKTOVAO DO CLUSTER-A KOJI SAM KREIRAO U GOOGLE CLOUD (USTVARI TREBA RECI KOMANDI kubectl DA SE RUNN-UJE U PRAVOM CONTEXTU)

# MEDJUTIM MORAM NAPRAVITI ODLUKU O TOME DA LI ZELI MDA KORISTIM DOCKER NA MOM RACUNARU ILI NE

JA SAM ODABRAO NE I ZATO SAM ZAUSTAVIO DOCKER NA MOM RACUNARU I DISABLE-OVAO NJEGOV STARTUP (KORISTIO SAM [SYSTEMD](https://askubuntu.com/questions/19320/how-to-enable-or-disable-services))

- `systemctl status docker.socket`
- `systemctl status docker.service`
- `sudo systemctl stop docker.socket`
- `sudo systemctl stop docker.service`
- `sudo systemctl disable docker.socket`
- `sudo systemctl disable docker.service`

AKO ZELIS DA GA STARTUJES NEKAD U BUDUSCNOSTI KORISTI `start` A DA PODESIS DA STARTUJE ON BOOT, RUNN-UJE `enable` (TO AKO BUDES IKADA DOCKER PONOVO ZELEO DA KORISTIS NA TVOM RACUNARU)

# SADA CU DA INSTALIRAM kubectl NA MOM MACHINE-U ALI KROZ KORISCENJE GOOGLE CLOUD KOMANDE

***

OVA INSTLACIJA kubectl-A NIJE RADILA SA INSTALACIJOM GOOGLE CLOUD-A (INSTALIRANOG SA apt-get) ZATO SAM U PROSLOM BRANCH-U MORAO DA REINSTALIRAM GOOGLE CLOUD SDK

***

- `gcloud components list` (OVDE CES VIDETI DA kubectl-A NEMA)

INSTLAIRAM

- `gcloud components install kubectl`

MEDJUTIM NE SVIDJA MI SE OVAJ WARNING U POSTINSTALL MESSAGE-U, KOJI CU IGNORISATI ZA SADA

```zsh
Update done!

WARNING:   There are other instances of Google Cloud Platform tools on your system PATH.
  Please remove the following to avoid confusion or accidental invocation:

  /usr/local/bin/kubectl
```

DAKLE OVO MOZE BITI PROBLEM JER SADA IMAM DUPLU instlaciju KUBECTL-a

- `gcloud components list`

# SADA CU DA KUBECTL POVEZEM SA CLUSTEROM NA GOOGLE CLOUD-U

- `gcloud container clusters get-credentials <cluster-id>`

MOZES PRONACI U KUBERNETES DASHBOARD-U GOOGLE CLOUD-A, UPRAVO ONAJ ID TVOG CLUSTER-A, A KOD MENE JE TO `microticket-dev`

MISLI MDA OVO FUNKCIONISE SADA JER EVO GLEDAJ OVO

- `kubectl get services`

```zsh
AME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
kubernetes   ClusterIP   10.68.0.1    <none>        443/TCP   4h29m
```

## KOMANDU `gcloud container clusters get-credentials <cluster-id>` CES UVEK RUNN-OVATI AKO BUDES ZELEO DA PROMENIS CONTEXT ZA kubectl

ODNOSNO KADA BUDES ZELEO DA TVOJ `kubectl` MANGE-UJE DIFFERENT CLUSTER 

# MISLIM DA JE OVU KOMANDU DOBRO POKRETATI SVAKI PUT KADA UPALIM RACUNAR I POZELIM DA MOJ `kubectl` RUKOVODI ZELJENIM CLUSTEROM NA GOOGLE CLOUD-U

DAKLE NEMOJ DA ZABORAVIS DA POKRENES OVO NAKON RESTARTA TVOJE LOCAL MACHINE

# A MOJ SPACESHIP PROMPT JE TOLIKO LJUBAZAN DA DISPLAY-UJE IME CLUSTER-A

AKO SI USAO U Z SHELL

- `zsh`

VIDECES IME CLUSTERA SA KOJIM RADI TVOJ kubectl
