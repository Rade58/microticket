# CREATING current-user MIDDLEWARE

***

digresija:

TI SI NAPRAVIO current-user HANDLER, I ON NE UZIMA NISTA IZ DATABASE-A; ON SAMO UZIMA PAYLOAD (A TO JE USER OBJEKAT) SA JSON WEB TOKENA

***

OVAJ MIDDLEWARE CU DA NAPRAVIM, JER CE I NEKI DRUGI MICROSERVICE-OVI SIGURNO HTETI DA GETT-UJU CURRENT USER-A

**PA JA PRAVIM OVAJ MIDDLEWARE, KAKO BI OBEZBEDIO CURRENT USER-A ZA NEKE DRUGE HANDLERE, ZA NEKE DRUGE MICROSERVICE-OVE**

**IDEJA JE DA OVAJ MIDDLEWARE UZME USER-A IZ DATBASE-A I DA GA UMETNE U `request` OBJECT**

**TIME BI ONAJ HANDLER, ZA KOJI BI DODAO POMENUTI MIDDLEWARE, IMAO NA requestu DOSTUPAN USER OBJECT; ODNOSNO USER OBJECT BI BIO NA `req.currentUser`**

NARAVNO TO SE TREBA RADITI UZ SVU VERIFY LOGIKU JSON WEB TOKENA

**MEDJUTIM MOZE SE U MIDDLEWARE ENCAPSULATE-OVATI LOGIKA KOJA REJECT-UJE REQUEST, AKO JE VERIFIKACIJA JWT-A NEUSPESNA**

# DAKLE PAYLOAD, KOJI SE UZME KADA SE VERIFIKUJE JWT, TREBA BITI UMETNUT KAO `req.currentUser`

**SADA CU DA NAPRAVIM POMENUTI MIDDLEWARE**

- `touch auth/src/middlewares/current-user.ts`

```ts

```
