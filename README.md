# SELECTIVE TEST EXECUTION

MI SADA KAD PUSH-UJEMO CHANGES RELATED TO ANY MICROSERVICE, SVAKI OD NASIH TESTOVA CE SE RERUN-OVATI KADA SE DOGODI NEKI EVENT VEZAN ZA PULL REQUEST (CREATION I UPDATING NA PRIMR)

**TO NAM, NIKAKO NE ODGOVRA, JER PO SADASNJIM POSTVKAMA, AKO EDIT-UJEMO CODE U SAMO JEDNOM MICROSERVICE-U, ONDA KADA PUSH-UJEMO (ODNOSNO AKO POKRENEMO CREATE ILI UPDATE PULL REUESTA ,ILI AKO SE PULL REQUEST REOPEN-UJES) ONDA SE RUNN-UJEU SVI TESTOVI ZA SVAKI OD MICROSERVICE-A**

DA OSIGURAM ODA SE TEST RUNN-UJE SAMO ZA MICROSERVICE, CIJI CODE JE CHANGED, **MORACEMO DA DODAMO POSTAVKE U yml FILE-OVIMA, KOJE IMAMO INSIDE `.git/workflows`**

**OVOG PUTA EDIT-OVACEMO TE FILE-OVE N NASSOJ LOKALNOJ MACHIN-I**

PROMENICEMO OPET BRANCH, OTICICEMO NA dev, KOJI SMO VEC RANIJE KREIRALI

- `git checkout dev` (AKO NEMA LATEST CODE, ZNAS STA DA RADIS, MERGE-UJ ILI PULLUJ SA REMOTE-A (MISLIM NA main REMOTE))

# POCECEMO OD `test-auth.yml`; GDE CEMO RECI DA SE ACTIONS TREBAJU RUNN-OVATI SAMO KADA SE DOGODI EVENTS AROUND `pull_request`, ALI SAMO U SLUCAJU AKO SU PROMENE NAPRAVLJENE U `auth` MICROSERVICE-U, ODNOSNO U `auth`  DIREKTORIJUMU

- `code .github/workflows/tests-auth.yml`

```yml
name: tests-auth

on:
  pull_request:
  # DODAJEMO paths
    paths:
      - 'auth/**'

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      - run: cd auth && npm install && npm install && npm run test:ci

```

OVOIM SMO DEFINISALI DA AKO SE IKADA DESI PULL REQUEST, ILI SE ON REOPEN-UJE, ILI UPDATE-UJE, I AKO FILE-OVI KOJI SU PROMENJENI, USTVARI POTICU IZ `auth` FOLDERA, **SAMO TADA SE RUNN-UJU JOBS KOJE SAM SPECIFICIRAO**, U SUPROTNOM NEMOJ DA RUNN-UJES JOBS

**DEFINISI ISTO ZA SVAKI OD yml FILE-OVA U `.github/workflows` FOLDERU**

## POSTO SAM NAPRAVIO, SVE TE MODIFIKACIJE U `yml` FILE-OVIMA, SADA NAPRAVI IZMENU, U SAMO JEDNOM MICROSERVICE-U

NA PRIMER, MOZES DODATI NEKI CONSOLE LOG U `orders` MICROSERVICE-U

COMMIT-UJ

- `git add -A`

- `git commit -am 'orders microservice chnges'`

PUSH-UJ TO U REMOTE dev

- `git push origin dev`

# SADA MOZES DA ODES NA GITHUB I DA KLIKNES NA `Pull requests` TAB I DA NAPRAVIS NOVI PULL REQUEST

KLIKNI NA `New pull request` PA KLIKNI NA `Create pull request`

NAPISI IME ZA PULL REQUEST I MESSAGE

`Create pull request`

SADA U BOX-U KOJI JE POZUTEO PISE `Some checks havent't completed yet`

**ALI VIDI MDA SE RUNN-UJE ACTION, ODNOSNO WORKFLOW, KOJI JE VEZAN ZA orders MICROSERVICE**

MOGU POGLEDATI `Details` I VIDIM SVE ONE KORAKA, OD INSTALIRANJA DEPENDANCIES-A U TOM GITHUB-OVOM CONTAINERU, PA DO RUNNONGA TESTOVA VEZANIH ZA orders

NA KRAJU JE SVE U REDU, VIDIM ONAJ ZELENI CHECMARKS, I MOGU SADA DA U `Conversation` TABU DA PRITISNEM NA `Merge pull request` I NA `Confirm merge`

***

DAKLE NAJVAZNIJA STVAR JE TO DA SE NISU RUNN-OVALI OSTALI ATIONS, KOJI NEMAJU VEZE SA `orders` MICROSERVICE-OM

***
