# NATS CLIENT ID GENERATION

***
***

DA MALO REKAPITULIRAM

USPESNO SAM POSTAVIO PUBLISHERA CIJA JE ULOGA DA PUBLISH-UJE EVENTS DO NATS STREAMING SERVERA

POSTO PRAVI MSAMI SIMPLE PROJECT, JEDIN INACIN KOJI SAMO STAVIO PUBLISHE-RU JE DA SE RESTARTINGOM PROSTO SCRIPTA (ILI PROMENOM FILE-A I SAVINGOM), RE RUN-UJE TAJ ts-node-dev KOJI PORED STO TRANSPILE-UJE TYPESCRIPT, TAKODJE RUN-UJE TRANSPILED JAVASCRIPT KAO EXECUTABLE, **CIME JA USTVARI RERUN-UJEM ONAJ CODE KOJI PUBLISH-UJE EVENT, ODNOSNO PUBLISHUJE ODREDJENI DATA, U ODREDJENI CHANNEL (DAO SAM MU IME `"tickets:created"`) U STREMAING SERVERU**

**SA DRUGE STRANE IMAM LISTENERA KOJEG  SAM PODESIO, I KOJI TKAV DOBIJA, EVENT-OVE, ODNOSNO Message U KOJEM JE EMBEDED DATA, IZMEDJU OSTALOG**

**A SVE ZATO JER SAM LISTENERA SUBSCRIBE-OVAO NA CHNNEL `"tickets:created"`**

DAKLE NATS STREAMING SERVER RADI STALNO I KADA SE GOD POSALJE EVENT TO JE ZABELEZENO (TAKORECI CUVA SE IN MEMORY PO DEFULTU A MOZE DA SE PODESI I DATABASE, POSEBNOM OPCIJOM, STO JOS NISAM RADIO)

***
***

DA TI REKAPITULIRAM POKRETNAJE I FLOW

JEDAN TERMIANL TI JE EXPOSE-OVO PORT NATS TREAMING SERVERA KOJI RUN-UJE U PODU NA TVOM CLUSTERU JER SI POKRENUO SLDECE:

- `k get pods`

- `kubectl port-forward <ime pod-a> <port nats streaming ser>:<port na kojem ti zelis d slisas na locl machine-u>` (PORTOVI SU 4222:4222 (TO STAVLJAS))

**LISTENER TERMINAL:**

- `cd nats_test_project`

- `yarn listen`

**PUBLISHER TERMINAL:**

- `cd nats_test_project`

- `yarn run publish`

ZA REPUBLISHING EVENTS MORAS RETARTOVATI OVAJ POSLEDNJI SCRIPT ILI MODIFIKOVATI `nats_test_project/src/publisher.ts`, UBACIVANJE I IZBACIVANJE RANDOM COMMENT-A I SAVE-OVATI


***
