# LISTENING FOR DATA

PIBLISHER JE SETTED, A SADA RADIM ONA IMPLEMENTACIJI LISTENERA

GOAL NASEG LISTENERA JE DA MU PODESIM OSUBJECT ODNOSNO CHANNEL KOJ IEL IDA LISTENUJE TO

TO PASS-UJEMO U stan CLIENT, KREIRAJUCI TAK OSUBSCRIPTIO

POSMATRACEMO SUBSCRIPTION ANY TIME IT RECEIVES THE DATA

- `code nats_test_project/src/listener.ts`

```ts
import nats from "node-nats-streaming";

// KASNIJE CU SE VRATITI I OBJASNITI OVE ARGUMENTE
// A ZA SADA IH APISUJ
const stan = nats.connect("microticket", "123", {
  url: "http://localhost:4222",
});

// WATCH-UJEM NA CONNECT EVENT
// I OVAJ CALLBACK CE SE DAKLE IZVRSITI PPO USPESNOJ KONEKCIJI
stan.on("connect", () => {
  console.log("Listener connected to nats");
});

```

NATS SERVER JE VEC EXPOSE-VAO PORT STO SAM PODESIO U PREDPOSLEDNJJEM BRANCH-U

STO ZNACI DA KADA POKRENEM I SCRIPT ZA LISTENERA, DA CE SE USPESNO OSTVARITI KONEKCIJA

NARAVNO OTVORICES NOVI TERMINAL, NE PREKIDAJUCI DVA VEC UPALJENA KOJA IMAS  

- `cd nats_test_project`

- `yarn listen`

IMACES I OVDE OSTVARENU KKONEKCIJU

```zsh
[INFO] 20:30:39 ts-node-dev ver. 1.1.6 (using ts-node ver. 9.1.1, typescript ver. 4.2.4)
Listener connected to nats
```

DAKLE IMACES HANGING TERMINAL, KOJI OPET TE NAPOMINJEM DA NE PREKIDAS

